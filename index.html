
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEOUL SE SMART MAP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: black; color: white; margin: 0; overflow-x: hidden; }
        .minimal-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.4s ease; border-radius: 2rem; }
        .minimal-card:hover { background: rgba(255, 255, 255, 0.08); border-color: white; transform: translateY(-5px); }
        .cta-button { background: white; color: black; font-weight: 900; transition: all 0.3s ease; }
        .cta-button:hover { transform: scale(1.05); filter: invert(1); }
        iframe { pointer-events: none; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "lucide-react": "https://esm.sh/lucide-react@0.344.0",
    "framer-motion": "https://esm.sh/framer-motion@11.0.8",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="module">
        import React, { useState, useEffect, useMemo } from 'react';
        import { createRoot } from 'react-dom';
        import { motion, AnimatePresence } from 'framer-motion';
        import { MapPin, X, BatteryCharging, ShoppingBag, Wrench, Zap, ChevronLeft, Trash2, ArrowUpRight, Plus, Save, Lock, ShieldCheck, Home } from 'lucide-react';

        function App() {
            const [tab, setTab] = useState('home');
            const [step, setStep] = useState('district');
            const [district, setDistrict] = useState('');
            const [service, setService] = useState('');
            const [data, setData] = useState(() => JSON.parse(localStorage.getItem('smart_map_db') || '[]'));

            useEffect(() => { localStorage.setItem('smart_map_db', JSON.stringify(data)); }, [data]);

            const districts = ['전체', '강남구', '강동구', '송파구', '서초구', '광진구', '성동구'];
            const services = [
                { name: '전동휠체어 충전소', icon: React.createElement(Zap, { size: 24 }) },
                { name: '수리 지정 업체', icon: React.createElement(Wrench, { size: 24 }) },
                { name: '휴대용 충전기 대여소', icon: React.createElement(BatteryCharging, { size: 24 }) },
                { name: '휠체어 대여소', icon: React.createElement(ShoppingBag, { size: 24 }) }
            ];

            const filtered = data.filter(item => 
                (district === '전체' || item.district === district) && 
                item.serviceType.includes(service.replace(district, "").trim())
            );

            return React.createElement('div', { className: "min-h-screen" }, [
                // Nav
                React.createElement('nav', { key: 'nav', className: "fixed top-0 w-full z-50 p-8 flex justify-between" }, [
                    React.createElement('button', { onClick: () => setTab('home'), className: "w-12 h-12 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl flex items-center justify-center" }, React.createElement(Home, { size: 20 })),
                    React.createElement('button', { onClick: () => setTab('admin'), className: "px-6 py-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl text-[10px] font-bold tracking-widest" }, "ADMIN")
                ]),

                React.createElement(AnimatePresence, { mode: 'wait', key: 'content' }, [
                    tab === 'home' && React.createElement(motion.div, { key: 'h', initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, className: "h-screen flex items-center justify-center p-10" }, [
                        React.createElement('div', { className: "absolute inset-0 -z-10" }, React.createElement('iframe', { src: "https://my.spline.design/nexbotrobotcharacterconcept-XLVWVFAOrjwv7abuogS3YQZM/", frameBorder: "0", width: "100%", height: "100%", className: "grayscale opacity-50" })),
                        React.createElement('div', { className: "max-w-4xl" }, [
                            React.createElement('h1', { className: "text-[8vw] font-black leading-[0.85] uppercase mb-10" }, "Seoul Southeast\nSmart Map"),
                            React.createElement('button', { onClick: () => setTab('explorer'), className: "cta-button px-12 py-5 rounded-full text-sm" }, "탐색 시작하기")
                        ])
                    ]),

                    tab === 'explorer' && React.createElement(motion.div, { key: 'e', initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "pt-40 px-10 pb-20 max-w-7xl mx-auto" }, 
                        step === 'list' ? [
                            React.createElement('button', { onClick: () => setStep('service'), className: "mb-10 opacity-50 flex items-center gap-2 text-xs" }, [React.createElement(ChevronLeft, { size: 14 }), "BACK"]),
                            React.createElement('h2', { className: "text-5xl font-black mb-12 uppercase" }, service),
                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-6" }, filtered.map(item => 
                                React.createElement('div', { key: item.id, className: "minimal-card p-10 h-64 flex flex-col justify-between" }, [
                                    React.createElement('div', null, [
                                        React.createElement('p', { className: "text-[10px] opacity-30 font-bold mb-2" }, item.district),
                                        React.createElement('h3', { className: "text-xl font-bold" }, item.name)
                                    ]),
                                    React.createElement('div', { className: "flex justify-between items-center opacity-40" }, [
                                        React.createElement('span', { className: "text-[10px]" }, item.address),
                                        React.createElement(ArrowUpRight, { size: 16 })
                                    ])
                                ])
                            ))
                        ] : [
                            React.createElement('h2', { className: "text-7xl font-black mb-16 uppercase" }, step === 'district' ? "Region" : "Service"),
                            React.createElement('div', { className: "grid grid-cols-2 md:grid-cols-4 gap-4" }, 
                                step === 'district' ? districts.map(d => React.createElement('button', { onClick: () => { setDistrict(d); setStep('service'); }, className: "minimal-card p-12 text-left" }, [
                                    React.createElement('p', { className: "text-[10px] opacity-20 mb-2" }, "NODE"),
                                    React.createElement('p', { className: "text-2xl font-black" }, d)
                                ])) : services.map(s => React.createElement('button', { onClick: () => { setService(`${district} ${s.name}`); setStep('list'); }, className: "minimal-card p-12 text-left" }, [
                                    React.createElement('div', { className: "mb-6 opacity-30" }, s.icon),
                                    React.createElement('p', { className: "text-lg font-bold" }, s.name)
                                ]))
                            )
                        ]
                    ),

                    tab === 'admin' && React.createElement(AdminPanel, { key: 'a', data, onSave: setData })
                ])
            ]);
        }

        function AdminPanel({ data, onSave }) {
            const [auth, setAuth] = useState(false);
            const [pw, setPw] = useState('');
            const [local, setLocal] = useState(data);
            if (!auth) return React.createElement('div', { className: "h-screen flex items-center justify-center" }, 
                React.createElement('form', { onSubmit: (e) => { e.preventDefault(); if(pw==='1217') setAuth(true); else alert('Error'); }, className: "p-10 minimal-card text-center" }, [
                    React.createElement('input', { type: 'password', value: pw, onChange: e => setPw(e.target.value), className: "bg-white/5 border border-white/10 p-4 rounded-xl mb-4 w-full text-center", placeholder: "ACCESS CODE" }),
                    React.createElement('button', { className: "w-full py-4 bg-white text-black rounded-xl font-bold" }, "LOGIN")
                ])
            );
            return React.createElement('div', { className: "pt-40 px-10 max-w-5xl mx-auto" }, [
                React.createElement('div', { className: "flex justify-between mb-10" }, [
                    React.createElement('h2', { className: "text-3xl font-black" }, "DATABASE"),
                    React.createElement('button', { onClick: () => onSave(local), className: "bg-white text-black px-6 py-2 rounded-full font-bold text-xs" }, "SAVE CHANGES")
                ]),
                React.createElement('div', { className: "space-y-4" }, local.map((item, i) => React.createElement('div', { key: i, className: "flex gap-2" }, [
                    React.createElement('input', { value: item.name, onChange: e => { const n = [...local]; n[i].name = e.target.value; setLocal(n); }, className: "bg-white/5 p-3 rounded-lg flex-1 text-sm" }),
                    React.createElement('button', { onClick: () => setLocal(local.filter((_, idx) => idx !== i)) }, React.createElement(Trash2, { size: 16, className: "text-red-500" }))
                ]))),
                React.createElement('button', { onClick: () => setLocal([{ id: Date.now(), name: 'New Place', address: '', district: '강남구', serviceType: '전동휠체어 충전소' }, ...local]), className: "mt-8 opacity-40 text-xs" }, "+ ADD DATA")
            ]);
        }

        createRoot(document.getElementById('root')).render(React.createElement(App));
    </script>
</body>
</html>
